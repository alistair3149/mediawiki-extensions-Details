@import 'mediawiki.skin.variables.less';

// Styles a details block to be visually distinct from its surroundings
.wikicollapse {
	overflow: hidden;
	padding: 0.2em 0.4em;
	border: @border-base;
	border-radius: @border-radius-base;
	margin: 1em 0;
	background-color: @background-color-neutral-subtle;
	color: @color-base;
	font-size: 87.5%;

	> summary:first-of-type {
		padding: 0.4em;
		margin: -0.2em -0.4em;
		cursor: pointer;
		font-size: 114%;
		font-weight: @font-weight-semi-bold;
		user-select: none;

		.mw-collapsible-toggle {
			font-size: 87.5%;
			font-weight: @font-weight-normal;
		}
	}

	&[ open ] {
		> summary:first-of-type {
			margin-bottom: 0;
		}
	}
}

.details--root {
	html.client-js:not( .details--not-available ) &:not( .mw-made-collapsible ),
	&.mw-made-collapsible {
		// Remove disclosure arrow when our own toggle button is in place, or if we’re anticipating it
		// to be loaded shortly. If the browser doesn’t support HTMLDetailsElement.toggle(), we’ll
		// add .details--not-available to html, revealing the brower’s disclosure arrow again (if any).
		> summary:first-of-type {
			// Chrome, Firefox
			list-style: none;

			// Safari
			&::-webkit-details-marker {
				display: none;
			}
		}
	}
}
