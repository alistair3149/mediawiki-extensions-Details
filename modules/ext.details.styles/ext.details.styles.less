@import 'mediawiki.skin.variables.less';

// Styles a details block to be visually distinct from its surroundings
.wikicollapse {
	overflow: hidden;
	box-sizing: border-box;
	padding: 0.2em 0.4em;
	border: default( @border-base, 1px solid #a2a9b1 ) );
	border-radius: default( @border-radius-base, 2px );
	margin: 1em 0;
	background-color: default( @background-color-neutral-subtle, #f8f9fa );
	color: default( @color-base, #202122 );
	font-size: 87.5%;

	> summary:first-of-type {
		padding: 0.4em;
		margin: -0.2em -0.4em;
		cursor: pointer;
		font-size: 114%;
		font-weight: default( @font-weight-semi-bold, 600 );
		user-select: none;

		.mw-collapsible-toggle {
			font-size: 87.5%;
			font-weight: default( @font-weight-normal, 400 );
		}
	}

	&[ open ] {
		> summary:first-of-type {
			margin-bottom: 0.2em;
		}
	}
}

.details--root {
	html.client-js:not( .details--not-available ) &:not( .mw-made-collapsible ),
	&.mw-made-collapsible {
		// Remove disclosure arrow when our own toggle button is in place, or if we’re anticipating it
		// to be loaded shortly. If the browser doesn’t support HTMLDetailsElement.toggle(), we’ll
		// add .details--not-available to html, revealing the brower’s disclosure arrow again (if any).
		> summary:first-of-type {
			// Chrome, Firefox
			list-style: none;

			// Safari
			&::-webkit-details-marker {
				display: none;
			}
		}
	}
}
